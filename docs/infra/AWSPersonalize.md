---
title: AWS Personalizeのハンズオンに参加しました
date: 2019-07-26
description: AWS Personalizeのハンズオンに参加した時のメモ
---
# AWS Personalize

## 機械学習と AI の違い

### 機会学習

- アルゴリズムを作成

### AI

- 機械学習モデルを元にビジネスロジックを WEB サービスに反映

## アーキテクチャ

### 機械学習サービス

- Amazon SageMaker

### AI サービス

- 画像認識サービス
  - Amazon Recognition
- Amazon Rekognition: 画像および動画の識別。
- Amazon Polly: 音声合成
- Amazon Translate: 機械翻訳

## 機械学習のセキュリティ

- 画像でなく画像の数値をプライバシーと判断するか否か議論がされている

## Amazon Personalize とは

- リアルタイムパーソナライズとレコメンデーションサービス

### 取り込む情報

- ユーザーの属性
  - 年齢や住所など
- ユーザーのインベントリ
  - 商品情報や動画など
- ユーザーが商品を買ってその商品を気に入ったかどうかがわかる

#### データフォーマット

- Users
  - USER_ID
- Items
  - ITEM_ID
- Interacitions
  - USER_ID
  - ITEM_ID
  - TIMESTAMP

#### コンソールまたは API でモデルを学習

- Choose from:
  - Recipes 用意されたアルゴリズム
  - AutoML Personalize が自動で選択
    - 商品検索結果のランキング並び替え
    - セットで購入されている商品の抽出
    - ユーザーの行動履歴から、次に好むであろうアイテムの予測

コンソールは全て英語

## Amazon Personalize Campaigns

- API コールで課金のため、使用に注意しないと予期せぬコストがかかるので注意が必要

## 現時点でプレビュー状態のサービス

- AmazonForecast
  - 在庫予測サービス

### Hierarchical Recurrent

## Amazon-Personalize の活用事例

- 株式会社トクバイ

### 活用事例（ユーザー向け）

1. ユーザーが店舗をフォロー
2. フォローされた店舗のチラシ 6/31 が届く

- ユーザーの行動にない店舗をレコメンドしたい
- 期間
  - 2019/6/1 ~ 2019/6/31
- 学習データ
  - アクセスログから休日+店舗へのアクセスに限定
- スキーマ
  - USER_ID:店舗を用いたユーザー ID
  - ITEM_ID:ユーザーがアクセスした店舗 ID
  - TIMESTAMP:アクセス日時

### 活用事例（店舗向け）

- チラシ投稿
- 商品投稿

- テーマ
  - 日々の投稿トレンドを反映したおすすめ投稿商品のレコメンデーション
- 期間
  - 2019/6/15 ~ 2019/6/30
- 学習データ
  - 対象期間にて全国の店舗から特売に投稿された商品のログ
  - 各店舗の業態/位置情報データ
- モデル: HRMM

## メリット

- コンソール画面から機械学習の知見なくても手軽にレコメンドを行うことができる

## 注意すべきポイント

- 学習データのトレーニング中に、中断することができない
  - 無駄に大きなデータを入力すると予期せね費用がかかる可能性がある

## エイチーム（サイマ- 自転車の EC サイト）

### AmazonPersonalize の選定理由

- 機能の比較

  - AmazonPersonalize はメールやプッシュ通知でも使える
  - 他者のレコメンドでは場面が限られる

- コスト

  - AP なら繁忙期で 8 万程度に対して、他者では 12~15 万円程度

- 導入工数

  - AP30 人日
  - 他者 10~20 人日

- 運用サポートがない

- レコメンドモデルの作成はデータの調整に時間がかかった
- Qiita:AmazonPersonalize を導入してわかった 12 のこと

### 導入成果

- 1 年分、6 ヵ月、3 ヶ月では 3 ヶ月が一番成果がよかった
- パーソラナイズレコメンドを使った方が効果がでやすい
- AutoML が簡単、自動

## 質問

- 現状学習中の進行度合いは分からない
- 学習時間は 1 万レコードでも 10 万レコード 50 分程度かかる

  - 環境の立ち上げとインストールに時間がかかっているため

- レコメンドの順番には意味があるか
  - 映画を見られている数が多い順に出力される
